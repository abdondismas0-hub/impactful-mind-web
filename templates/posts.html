{% extends "public/base.html" %}

{% block content %}
    <div style="padding-top: 50px;">
        <h1 style="text-align: center; margin-bottom: 40px;">Daily Posts <span style="color: var(--accent-color);">Updates</span></h1>
        
        <div style="display: flex; flex-wrap: wrap; gap: 30px; justify-content: center;">
            {% for post in posts %}
            <div class="glass-panel" style="flex: 1 1 350px; padding: 0; overflow: hidden; max-width: 400px;">
                
                <!-- Display Image if available -->
                {% if post.image_file %}
                <div style="width: 100%; height: 200px; overflow: hidden;">
                    <img src="{{ url_for('download_book', filename=post.image_file) }}" alt="Post Image" style="width: 100%; height: 100%; object-fit: cover;">
                </div>
                {% endif %}
                
                <div style="padding: 20px;">
                    <h3 style="margin-top: 0;">{{ post.title }}</h3>
                    <p style="color: #ccc; font-size: 0.9rem;">
                        <i class="fas fa-calendar-alt"></i> {{ post.date_posted.strftime('%d %b %Y') }}
                    </p>
                    <p style="color: #eee; line-height: 1.6;">
                        {{ post.content[:100] }}...
                    </p>
                    <a href="{{ url_for('view_post', post_id=post.id) }}" class="btn" style="padding: 8px 20px; font-size: 0.9rem;">Soma Zaidi</a>
                </div>
            </div>
            {% else %}
            <div class="glass-panel" style="text-align: center;">
                <p>Hakuna posts bado.</p>
            </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}




